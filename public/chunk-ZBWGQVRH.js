import{$a as bn,C as rn,E as ne,G as be,Ga as hn,H as X,I as sn,Ia as _t,Ja as yt,Ka as vt,N as on,O as d,Oa as fn,R as Ce,Sa as pn,T as an,V as M,W as ln,X as un,Y as gt,Za as gn,_ as mt,a as xe,ab as Cn,b as Yt,bb as Ct,c as Jt,ca as Ue,cb as wt,d as z,da as cn,db as wn,e as ft,ea as Le,eb as An,f as G,fb as Dn,g as Qt,ga as K,hb as En,ib as Vn,j as en,jb as Mn,l as tn,m as pt,n as Ne,o as F,p as P,q as _e,r as R,s as E,t as te,u as nn,v as ye,w as b,ya as O,z as ve,za as dn}from"./chunk-IRF76T5I.js";import{h as mn,l as _n,o as B,p as Be,s as yn,t as vn,v as bt,w as At,x as Dt,y as je}from"./chunk-FGK32RNH.js";import{a as v,b as k,h as W}from"./chunk-DEPBX7UX.js";var In=(()=>{let e=class e{constructor(n){this.firestore=n}addDocument(n,r,s){let o=s||this.firestore.createId();return this.firestore.collection(n).doc(o).set(v({id:o},r))}addDocumentReturnID(n,r,s){let o=s||this.firestore.createId();return this.firestore.collection(n).doc(o).set(v({id:o},r)).then(()=>o)}getDocument(n,r){return this.firestore.collection(n).doc(r).valueChanges()}getDocuments(n){return this.firestore.collection(n).valueChanges()}updateDocument(n,r,s){return this.firestore.collection(n).doc(r).update(s)}deleteDocument(n,r){return this.firestore.collection(n).doc(r).delete()}getDocumentsWhere(n,r,s){let o=this.firestore.collection(n);return r&&s&&(o=this.firestore.collection(n,a=>a.where(r,"==",s))),o.snapshotChanges().pipe(G(a=>a.map(l=>{let u=l.payload.doc.data(),c=l.payload.doc.id;return v({id:c},u)})))}getDocumentsWhereArrayContains(n,r,s){let o=this.firestore.collection(n);return r&&s&&(o=this.firestore.collection(n,a=>a.where(r,"array-contains",s))),o.snapshotChanges().pipe(G(a=>a.map(l=>{let u=l.payload.doc.data(),c=l.payload.doc.id;return v({id:c},u)})))}getDocumentsWhereArrayElementMatches(n,r,s,o){return this.firestore.collection(n).snapshotChanges().pipe(G(l=>l.map(u=>{let c=u.payload.doc.data(),f=u.payload.doc.id;return v({id:f},c)}).filter(u=>Array.isArray(u[r])?u[r].some(c=>c[s]===o):!1)))}};e.\u0275fac=function(r){return new(r||e)(E(Mn))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Nn="firebasestorage.googleapis.com",Un="storageBucket",Yi=2*60*1e3,Ji=10*60*1e3,Qi=1e3;var m=class t extends _n{constructor(e,i,n=0){super(Et(e),`Firebase Storage: ${i} (${Et(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Et(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},h=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(h||{});function Et(t){return"storage/"+t}function Ft(){let t="An unknown error occurred, please check the error payload for server response.";return new m(h.UNKNOWN,t)}function er(t){return new m(h.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function tr(t){return new m(h.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function nr(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new m(h.UNAUTHENTICATED,t)}function ir(){return new m(h.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function rr(t){return new m(h.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Ln(){return new m(h.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Bn(){return new m(h.CANCELED,"User canceled the upload/download.")}function sr(t){return new m(h.INVALID_URL,"Invalid URL '"+t+"'.")}function or(t){return new m(h.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ar(){return new m(h.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Un+"' property when initializing the app?")}function jn(){return new m(h.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lr(){return new m(h.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function ur(){return new m(h.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function cr(t){return new m(h.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Z(t){return new m(h.INVALID_ARGUMENT,t)}function Gn(){return new m(h.APP_DELETED,"The Firebase app was deleted.")}function Pt(t){return new m(h.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function De(t,e){return new m(h.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ae(t){throw new m(h.INTERNAL_ERROR,"Internal error: "+t)}var V=class t{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let n;try{n=t.makeFromUrl(e,i)}catch{return new t(e,"")}if(n.path==="")return n;throw or(e)}static makeFromUrl(e,i){let n=null,r="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}let c="v[A-Za-z0-9_]+",f=i.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${c}/b/${r}/o${p}`,"i"),_={bucket:1,path:3},T=i===Nn?"(?:storage.googleapis.com|storage.cloud.google.com)":i,y="([^?#]*)",U=new RegExp(`^https?://${T}/${r}/${y}`,"i"),A=[{regex:a,indices:l,postModify:s},{regex:g,indices:_,postModify:u},{regex:U,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<A.length;C++){let Q=A[C],ee=Q.regex.exec(e);if(ee){let dt=ee[Q.indices.bucket],me=ee[Q.indices.path];me||(me=""),n=new t(dt,me),Q.postModify(n);break}}if(n==null)throw sr(e);return n}},Mt=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function dr(t,e,i){let n=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...y){u||(u=!0,e.apply(null,y))}function f(y){r=setTimeout(()=>{r=null,t(g,l())},y)}function p(){s&&clearTimeout(s)}function g(y,...U){if(u){p();return}if(y){p(),c.call(null,y,...U);return}if(l()||o){p(),c.call(null,y,...U);return}n<64&&(n*=2);let A;a===1?(a=2,A=0):A=(n+Math.random())*1e3,f(A)}let _=!1;function T(y){_||(_=!0,p(),!u&&(r!==null?(y||(a=2),clearTimeout(r),f(0)):y||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,T(!0)},i),T}function hr(t){t(!1)}function fr(t){return t!==void 0}function pr(t){return typeof t=="function"}function gr(t){return typeof t=="object"&&!Array.isArray(t)}function $e(t){return typeof t=="string"||t instanceof String}function Tn(t){return Ot()&&t instanceof Blob}function Ot(){return typeof Blob<"u"}function It(t,e,i,n){if(n<e)throw Z(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>i)throw Z(`Invalid value for '${t}'. Expected ${i} or less.`)}function H(t,e,i){let n=e;return i==null&&(n=`https://${e}`),`${i}://${n}/v0${t}`}function Hn(t){let e=encodeURIComponent,i="?";for(let n in t)if(t.hasOwnProperty(n)){let r=e(n)+"="+e(t[n]);i=i+r+"&"}return i=i.slice(0,-1),i}var se=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(se||{});function $n(t,e){let i=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return i||r||s}var Tt=class{constructor(e,i,n,r,s,o,a,l,u,c,f,p=!0){this.url_=e,this.method_=i,this.headers_=n,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,_)=>{this.resolve_=g,this.reject_=_,this.start_()})}start_(){let e=(n,r)=>{if(r){n(!1,new re(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===se.NO_ERROR,l=s.getStatus();if(!a||$n(l,this.additionalRetryCodes_)&&this.retry){let c=s.getErrorCode()===se.ABORT;n(!1,new re(!1,null,c));return}let u=this.successCodes_.indexOf(l)!==-1;n(!0,new re(u,s))})},i=(n,r)=>{let s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());fr(l)?s(l):s()}catch(l){o(l)}else if(a!==null){let l=Ft();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){let l=this.appDelete_?Gn():Bn();o(l)}else{let l=Ln();o(l)}};this.canceled_?i(!1,new re(!1,null,!0)):this.backoffId_=dr(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hr(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},re=class{constructor(e,i,n){this.wasSuccessCode=e,this.connection=i,this.canceled=!!n}};function mr(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _r(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yr(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vr(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function br(t,e,i,n,r,s,o=!0){let a=Hn(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return yr(u,e),mr(u,i),_r(u,s),vr(u,n),new Tt(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}function Cr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wr(...t){let e=Cr();if(e!==void 0){let i=new e;for(let n=0;n<t.length;n++)i.append(t[n]);return i.getBlob()}else{if(Ot())return new Blob(t);throw new m(h.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Ar(t,e,i){return t.webkitSlice?t.webkitSlice(e,i):t.mozSlice?t.mozSlice(e,i):t.slice?t.slice(e,i):null}function Dr(t){if(typeof atob>"u")throw cr("base-64");return atob(t)}var I={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Ee=class{constructor(e,i){this.data=e,this.contentType=i||null}};function xt(t,e){switch(t){case I.RAW:return new Ee(qn(e));case I.BASE64:case I.BASE64URL:return new Ee(Wn(t,e));case I.DATA_URL:return new Ee(Vr(e),Mr(e))}throw Ft()}function qn(t){let e=[];for(let i=0;i<t.length;i++){let n=t.charCodeAt(i);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(i<t.length-1&&(t.charCodeAt(i+1)&64512)===56320))e.push(239,191,189);else{let s=n,o=t.charCodeAt(++i);n=65536|(s&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Er(t){let e;try{e=decodeURIComponent(t)}catch{throw De(I.DATA_URL,"Malformed data URL.")}return qn(e)}function Wn(t,e){switch(t){case I.BASE64:{let r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw De(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case I.BASE64URL:{let r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw De(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=Dr(e)}catch(r){throw r.message.includes("polyfill")?r:De(t,"Invalid character found")}let n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n}var He=class{constructor(e){this.base64=!1,this.contentType=null;let i=e.match(/^data:([^,]+)?,/);if(i===null)throw De(I.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let n=i[1]||null;n!=null&&(this.base64=Ir(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}};function Vr(t){let e=new He(t);return e.base64?Wn(I.BASE64,e.rest):Er(e.rest)}function Mr(t){return new He(t).contentType}function Ir(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var oe=class t{constructor(e,i){let n=0,r="";Tn(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,i){if(Tn(this.data_)){let n=this.data_,r=Ar(n,e,i);return r===null?null:new t(r)}else{let n=new Uint8Array(this.data_.buffer,e,i-e);return new t(n,!0)}}static getBlob(...e){if(Ot()){let i=e.map(n=>n instanceof t?n.data_:n);return new t(wr.apply(null,i))}else{let i=e.map(o=>$e(o)?xt(I.RAW,o).data:o.data_),n=0;i.forEach(o=>{n+=o.byteLength});let r=new Uint8Array(n),s=0;return i.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new t(r,!0)}}uploadData(){return this.data_}};function Nt(t){let e;try{e=JSON.parse(t)}catch{return null}return gr(e)?e:null}function Tr(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Rr(t,e){let i=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?i:t+"/"+i}function zn(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function kr(t,e){return e}var w=class{constructor(e,i,n,r){this.server=e,this.local=i||e,this.writable=!!n,this.xform=r||kr}},Ge=null;function Sr(t){return!$e(t)||t.length<2?t:zn(t)}function qe(){if(Ge)return Ge;let t=[];t.push(new w("bucket")),t.push(new w("generation")),t.push(new w("metageneration")),t.push(new w("name","fullPath",!0));function e(s,o){return Sr(o)}let i=new w("name");i.xform=e,t.push(i);function n(s,o){return o!==void 0?Number(o):o}let r=new w("size");return r.xform=n,t.push(r),t.push(new w("timeCreated")),t.push(new w("updated")),t.push(new w("md5Hash",null,!0)),t.push(new w("cacheControl",null,!0)),t.push(new w("contentDisposition",null,!0)),t.push(new w("contentEncoding",null,!0)),t.push(new w("contentLanguage",null,!0)),t.push(new w("contentType",null,!0)),t.push(new w("metadata","customMetadata",!0)),Ge=t,Ge}function Fr(t,e){function i(){let n=t.bucket,r=t.fullPath,s=new V(n,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:i})}function Pr(t,e,i){let n={};n.type="file";let r=i.length;for(let s=0;s<r;s++){let o=i[s];n[o.local]=o.xform(n,e[o.server])}return Fr(n,t),n}function Xn(t,e,i){let n=Nt(e);return n===null?null:Pr(t,n,i)}function Or(t,e,i,n){let r=Nt(e);if(r===null||!$e(r.downloadTokens))return null;let s=r.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(u=>{let c=t.bucket,f=t.fullPath,p="/b/"+o(c)+"/o/"+o(f),g=H(p,i,n),_=Hn({alt:"media",token:u});return g+_})[0]}function Ut(t,e){let i={},n=e.length;for(let r=0;r<n;r++){let s=e[r];s.writable&&(i[s.server]=t[s.local])}return JSON.stringify(i)}var Rn="prefixes",kn="items";function xr(t,e,i){let n={prefixes:[],items:[],nextPageToken:i.nextPageToken};if(i[Rn])for(let r of i[Rn]){let s=r.replace(/\/$/,""),o=t._makeStorageReference(new V(e,s));n.prefixes.push(o)}if(i[kn])for(let r of i[kn]){let s=t._makeStorageReference(new V(e,r.name));n.items.push(s)}return n}function Nr(t,e,i){let n=Nt(i);return n===null?null:xr(t,e,n)}var S=class{constructor(e,i,n,r){this.url=e,this.method=i,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function N(t){if(!t)throw Ft()}function We(t,e){function i(n,r){let s=Xn(t,r,e);return N(s!==null),s}return i}function Ur(t,e){function i(n,r){let s=Nr(t,e,r);return N(s!==null),s}return i}function Lr(t,e){function i(n,r){let s=Xn(t,r,e);return N(s!==null),Or(s,r,t.host,t._protocol)}return i}function ue(t){function e(i,n){let r;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?r=ir():r=nr():i.getStatus()===402?r=tr(t.bucket):i.getStatus()===403?r=rr(t.path):r=n,r.status=i.getStatus(),r.serverResponse=n.serverResponse,r}return e}function ze(t){let e=ue(t);function i(n,r){let s=e(n,r);return n.getStatus()===404&&(s=er(t.path)),s.serverResponse=r.serverResponse,s}return i}function Kn(t,e,i){let n=e.fullServerUrl(),r=H(n,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new S(r,s,We(t,i),o);return a.errorHandler=ze(e),a}function Br(t,e,i,n,r){let s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",i&&i.length>0&&(s.delimiter=i),n&&(s.pageToken=n),r&&(s.maxResults=r);let o=e.bucketOnlyServerUrl(),a=H(o,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,c=new S(a,l,Ur(t,e.bucket),u);return c.urlParams=s,c.errorHandler=ue(e),c}function jr(t,e,i){let n=e.fullServerUrl(),r=H(n,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new S(r,s,Lr(t,i),o);return a.errorHandler=ze(e),a}function Gr(t,e,i,n){let r=e.fullServerUrl(),s=H(r,t.host,t._protocol),o="PATCH",a=Ut(i,n),l={"Content-Type":"application/json; charset=utf-8"},u=t.maxOperationRetryTime,c=new S(s,o,We(t,n),u);return c.headers=l,c.body=a,c.errorHandler=ze(e),c}function Hr(t,e){let i=e.fullServerUrl(),n=H(i,t.host,t._protocol),r="DELETE",s=t.maxOperationRetryTime;function o(l,u){}let a=new S(n,r,o,s);return a.successCodes=[200,204],a.errorHandler=ze(e),a}function $r(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Zn(t,e,i){let n=Object.assign({},i);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=$r(null,e)),n}function qr(t,e,i,n,r){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let A="";for(let C=0;C<2;C++)A=A+Math.random().toString().slice(2);return A}let l=a();o["Content-Type"]="multipart/related; boundary="+l;let u=Zn(e,n,r),c=Ut(u,i),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=oe.getBlob(f,n,p);if(g===null)throw jn();let _={name:u.fullPath},T=H(s,t.host,t._protocol),y="POST",U=t.maxUploadRetryTime,L=new S(T,y,We(t,i),U);return L.urlParams=_,L.headers=o,L.body=g.uploadData(),L.errorHandler=ue(e),L}var ae=class{constructor(e,i,n,r){this.current=e,this.total=i,this.finalized=!!n,this.metadata=r||null}};function Lt(t,e){let i=null;try{i=t.getResponseHeader("X-Goog-Upload-Status")}catch{N(!1)}return N(!!i&&(e||["active"]).indexOf(i)!==-1),i}function Wr(t,e,i,n,r){let s=e.bucketOnlyServerUrl(),o=Zn(e,n,r),a={name:o.fullPath},l=H(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},f=Ut(o,i),p=t.maxUploadRetryTime;function g(T){Lt(T);let y;try{y=T.getResponseHeader("X-Goog-Upload-URL")}catch{N(!1)}return N($e(y)),y}let _=new S(l,u,g,p);return _.urlParams=a,_.headers=c,_.body=f,_.errorHandler=ue(e),_}function zr(t,e,i,n){let r={"X-Goog-Upload-Command":"query"};function s(u){let c=Lt(u,["active","final"]),f=null;try{f=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{N(!1)}f||N(!1);let p=Number(f);return N(!isNaN(p)),new ae(p,n.size(),c==="final")}let o="POST",a=t.maxUploadRetryTime,l=new S(i,o,s,a);return l.headers=r,l.errorHandler=ue(e),l}var Sn=256*1024;function Xr(t,e,i,n,r,s,o,a){let l=new ae(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=n.size()),n.size()!==l.total)throw lr();let u=l.total-l.current,c=u;r>0&&(c=Math.min(c,r));let f=l.current,p=f+c,g="";c===0?g="finalize":u===c?g="upload, finalize":g="upload";let _={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${l.current}`},T=n.slice(f,p);if(T===null)throw jn();function y(C,Q){let ee=Lt(C,["active","final"]),dt=l.current+c,me=n.size(),ht;return ee==="final"?ht=We(e,s)(C,Q):ht=null,new ae(dt,me,ee==="final",ht)}let U="POST",L=e.maxUploadRetryTime,A=new S(i,U,y,L);return A.headers=_,A.body=T.uploadData(),A.progressCallback=a||null,A.errorHandler=ue(t),A}var Yn={STATE_CHANGED:"state_changed"},D={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Vt(t){switch(t){case"running":case"pausing":case"canceling":return D.RUNNING;case"paused":return D.PAUSED;case"success":return D.SUCCESS;case"canceled":return D.CANCELED;case"error":return D.ERROR;default:return D.ERROR}}var Rt=class{constructor(e,i,n){if(pr(e)||i!=null||n!=null)this.next=e,this.error=i??void 0,this.complete=n??void 0;else{let s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};function ie(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var Fn=null,kt=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=se.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=se.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=se.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,n,r){if(this.sent_)throw Ae("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,e,!0),r!==void 0)for(let s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ae("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ae("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ae("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ae("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},St=class extends kt{initXhr(){this.xhr_.responseType="text"}};function x(){return Fn?Fn():new St}var Ve=class{constructor(e,i,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=i,this._metadata=n,this._mappings=qe(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(h.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let s=this.isExponentialBackoffExpired();if($n(r.status,[]))if(s)r=Ln();else{this.sleepTime=Math.max(this.sleepTime*2,Qi),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(h.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return i=>this._updateProgress(e+i)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([i,n])=>{switch(this._state){case"running":e(i,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,i)=>{let n=Wr(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,x,e,i);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((i,n)=>{let r=zr(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,x,i,n);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=Sn*this._chunkMultiplier,i=new ae(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((r,s)=>{let o;try{o=Xr(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,i,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}let a=this._ref.storage._makeRequest(o,x,r,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Sn*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,i)=>{let n=Kn(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,x,e,i);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,i)=>{let n=qr(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,x,e,i);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let i=this._transferred;this._transferred=e,this._transferred!==i&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let i=this._state==="paused";this._state=e,i&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Bn(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=Vt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,i,n,r){let s=new Rt(i||void 0,n||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,i){return this._promise.then(e,i)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let i=this._observers.indexOf(e);i!==-1&&this._observers.splice(i,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(i=>{this._notifyObserver(i)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Vt(this._state)){case D.SUCCESS:ie(this._resolve.bind(null,this.snapshot))();break;case D.CANCELED:case D.ERROR:let i=this._reject;ie(i.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Vt(this._state)){case D.RUNNING:case D.PAUSED:e.next&&ie(e.next.bind(e,this.snapshot))();break;case D.SUCCESS:e.complete&&ie(e.complete.bind(e))();break;case D.CANCELED:case D.ERROR:e.error&&ie(e.error.bind(e,this._error))();break;default:e.error&&ie(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var le=class t{constructor(e,i){this._service=e,i instanceof V?this._location=i:this._location=V.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new t(e,i)}get root(){let e=new V(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zn(this._location.path)}get storage(){return this._service}get parent(){let e=Tr(this._location.path);if(e===null)return null;let i=new V(this._location.bucket,e);return new t(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw Pt(e)}};function Kr(t,e,i){return t._throwIfRoot("uploadBytesResumable"),new Ve(t,new oe(e),i)}function Zr(t){let e={prefixes:[],items:[]};return Jn(t,e).then(()=>e)}function Jn(t,e,i){return W(this,null,function*(){let r=yield Qn(t,{pageToken:i});e.prefixes.push(...r.prefixes),e.items.push(...r.items),r.nextPageToken!=null&&(yield Jn(t,e,r.nextPageToken))})}function Qn(t,e){e!=null&&typeof e.maxResults=="number"&&It("options.maxResults",1,1e3,e.maxResults);let i=e||{},n=Br(t.storage,t._location,"/",i.pageToken,i.maxResults);return t.storage.makeRequestWithTokens(n,x)}function Yr(t){t._throwIfRoot("getMetadata");let e=Kn(t.storage,t._location,qe());return t.storage.makeRequestWithTokens(e,x)}function Jr(t,e){t._throwIfRoot("updateMetadata");let i=Gr(t.storage,t._location,e,qe());return t.storage.makeRequestWithTokens(i,x)}function Qr(t){t._throwIfRoot("getDownloadURL");let e=jr(t.storage,t._location,qe());return t.storage.makeRequestWithTokens(e,x).then(i=>{if(i===null)throw ur();return i})}function es(t){t._throwIfRoot("deleteObject");let e=Hr(t.storage,t._location);return t.storage.makeRequestWithTokens(e,x)}function ei(t,e){let i=Rr(t._location.path,e),n=new V(t._location.bucket,i);return new le(t.storage,n)}function ts(t){return/^[A-Za-z]+:\/\//.test(t)}function ns(t,e){return new le(t,e)}function ti(t,e){if(t instanceof Me){let i=t;if(i._bucket==null)throw ar();let n=new le(i,i._bucket);return e!=null?ti(n,e):n}else return e!==void 0?ei(t,e):t}function is(t,e){if(e&&ts(e)){if(t instanceof Me)return ns(t,e);throw Z("To use ref(service, url), the first argument must be a Storage instance.")}else return ti(t,e)}function Pn(t,e){let i=e?.[Un];return i==null?null:V.makeFromBucketSpec(i,t)}function rs(t,e,i,n={}){t.host=`${e}:${i}`,t._protocol="http";let{mockUserToken:r}=n;r&&(t._overrideAuthToken=typeof r=="string"?r:mn(r,t.app.options.projectId))}var Me=class{constructor(e,i,n,r,s){this.app=e,this._authProvider=i,this._appCheckProvider=n,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=Nn,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Yi,this._maxUploadRetryTime=Ji,this._requests=new Set,r!=null?this._bucket=V.makeFromBucketSpec(r,this._host):this._bucket=Pn(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=V.makeFromBucketSpec(this._url,e):this._bucket=Pn(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){It("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){It("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return W(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let i=yield e.getToken();if(i!==null)return i.accessToken}return null})}_getAppCheckToken(){return W(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new le(this,e)}_makeRequest(e,i,n,r,s=!0){if(this._deleted)return new Mt(Gn());{let o=br(e,this._appId,n,r,i,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,i){return W(this,null,function*(){let[n,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,n,r).getPromise()})}},On="@firebase/storage",xn="0.12.5";var ss="storage";function ni(t,e,i){return t=B(t),Kr(t,e,i)}function ii(t){return t=B(t),Yr(t)}function ri(t,e){return t=B(t),Jr(t,e)}function si(t,e){return t=B(t),Qn(t,e)}function oi(t){return t=B(t),Zr(t)}function ai(t){return t=B(t),Qr(t)}function li(t){return t=B(t),es(t)}function Bt(t,e){return t=B(t),is(t,e)}function ui(t,e){return ei(t,e)}function ci(t,e,i,n={}){rs(t,e,i,n)}function os(t,{instanceIdentifier:e}){let i=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Me(i,n,r,e,vn)}function as(){yn(new Be(ss,os,"PUBLIC").setMultipleInstances(!0)),bt(On,xn,""),bt(On,xn,"esm2017")}as();var ce=class{constructor(e,i,n){this._delegate=e,this.task=i,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var Xe=class{constructor(e,i){this._delegate=e,this._ref=i,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ce(this._delegate.snapshot,this,this._ref)}then(e,i){return this._delegate.then(n=>{if(e)return e(new ce(n,this,this._ref))},i)}on(e,i,n,r){let s;return i&&(typeof i=="function"?s=o=>i(new ce(o,this,this._ref)):s={next:i.next?o=>i.next(new ce(o,this,this._ref)):void 0,complete:i.complete||void 0,error:i.error||void 0}),this._delegate.on(e,s,n||void 0,r||void 0)}},Ke=class{constructor(e,i){this._delegate=e,this._service=i}get prefixes(){return this._delegate.prefixes.map(e=>new Y(e,this._service))}get items(){return this._delegate.items.map(e=>new Y(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var Y=class t{constructor(e,i){this._delegate=e,this.storage=i}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let i=ui(this._delegate,e);return new t(i,this.storage)}get root(){return new t(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new t(e,this.storage)}put(e,i){return this._throwIfRoot("put"),new Xe(ni(this._delegate,e,i),this)}putString(e,i=I.RAW,n){this._throwIfRoot("putString");let r=xt(i,e),s=Object.assign({},n);return s.contentType==null&&r.contentType!=null&&(s.contentType=r.contentType),new Xe(new Ve(this._delegate,new oe(r.data,!0),s),this)}listAll(){return oi(this._delegate).then(e=>new Ke(e,this.storage))}list(e){return si(this._delegate,e||void 0).then(i=>new Ke(i,this.storage))}getMetadata(){return ii(this._delegate)}updateMetadata(e){return ri(this._delegate,e)}getDownloadURL(){return ai(this._delegate)}delete(){return this._throwIfRoot("delete"),li(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw Pt(e)}};var Ze=class{constructor(e,i){this.app=e,this._delegate=i}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(di(e))throw Z("ref() expected a child path but got a URL, use refFromURL instead.");return new Y(Bt(this._delegate,e),this)}refFromURL(e){if(!di(e))throw Z("refFromURL() expected a full URL but got a child path, use ref() instead.");try{V.makeFromUrl(e,this._delegate.host)}catch{throw Z("refFromUrl() expected a valid full URL but got an invalid one.")}return new Y(Bt(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,i,n={}){ci(this._delegate,e,i,n)}};function di(t){return/^[A-Za-z]+:\/\//.test(t)}var ls="@firebase/storage-compat",us="0.3.8";var cs="storage-compat";function ds(t,{instanceIdentifier:e}){let i=t.getProvider("app-compat").getImmediate(),n=t.getProvider("storage").getImmediate({identifier:e});return new Ze(i,n)}function hs(t){let e={TaskState:D,TaskEvent:Yn,StringFormat:I,Storage:Ze,Reference:Y};t.INTERNAL.registerComponent(new Be(cs,ds,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(ls,us)}hs(At);function fs(t){return new xe(e=>{let i=o=>e.next(o),n=o=>e.error(o),r=()=>e.complete();i(t.snapshot);let s=t.on("state_changed",i);return t.then(o=>{i(o),r()},o=>{i(t.snapshot),n(o)}),function(){s()}}).pipe(en(0))}function hi(t){let e=fs(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(G(i=>i.bytesTransferred/i.totalBytes*100))}}function Ye(t){return{getDownloadURL:()=>ft(void 0).pipe(Ct,pt(()=>t.getDownloadURL()),wt),getMetadata:()=>ft(void 0).pipe(Ct,pt(()=>t.getMetadata()),wt),delete:()=>z(t.delete()),child:e=>Ye(t.child(e)),updateMetadata:e=>z(t.updateMetadata(e)),put:(e,i)=>{let n=t.put(e,i);return hi(n)},putString:(e,i,n)=>{let r=t.putString(e,i,n);return hi(r)},list:e=>z(t.list(e)),listAll:()=>z(t.listAll())}}var ps=new R("angularfire2.storageBucket"),gs=new R("angularfire2.storage.maxUploadRetryTime"),ms=new R("angularfire2.storage.maxOperationRetryTime"),_s=new R("angularfire2.storage.use-emulator"),fi=(()=>{class t{storage;constructor(i,n,r,s,o,a,l,u,c,f){let p=Dn(i,o,n);this.storage=En(`${p.name}.storage.${r}`,"AngularFireStorage",p.name,()=>{let g=o.runOutsideAngular(()=>p.storage(r||void 0)),_=c;return _&&g.useEmulator(..._),l&&g.setMaxUploadRetryTime(l),u&&g.setMaxOperationRetryTime(u),g},[l,u])}ref(i){return Ye(this.storage.ref(i))}refFromURL(i){return Ye(this.storage.refFromURL(i))}upload(i,n,r){let s=this.storage.ref(i);return Ye(s).put(n,r)}static \u0275fac=function(n){return new(n||t)(E(wn),E(An,8),E(ps,8),E(sn),E(an),E(Cn),E(gs,8),E(ms,8),E(_s,8),E(bn,8))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var pi=(()=>{let e=class e{constructor(n){this.storage=n}uploadImage(n,r,s){let o=`${n}/${r}`,a=this.storage.ref(o),l=this.storage.upload(o,s);return new xe(u=>{l.snapshotChanges().pipe(tn(()=>{a.getDownloadURL().subscribe(c=>{u.next(c),u.complete()},c=>{u.error(c)})})).subscribe()})}};e.\u0275fac=function(r){return new(r||e)(E(fi))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Nl=(()=>{let e=class e{constructor(){this.auth=te(Vn),this.router=te(gn),this.firestore=te(In),this.firestorage=te(pi),this.userSubject=new Jt(null),this.user$=this.userSubject.asObservable(),this.auth.authState.subscribe(n=>{this.userSubject.next(n)})}getAuth(){return je()}signIn(n){return this.auth.signInWithEmailAndPassword(n.email,n.password).then(r=>{if(r.user&&r.user.emailVerified)return console.log("Inicio de sesi\xF3n exitoso."),!0;throw new Error("El correo electr\xF3nico no ha sido verificado.")}).catch(r=>{throw console.error("Error al iniciar sesi\xF3n:",r),r})}signUp(n,r,s){return W(this,null,function*(){let o=yield this.auth.createUserWithEmailAndPassword(n.email,n.password),a=o.user?.uid,l=yield this.firestorage.uploadImage("usersProfiles",`${a}.${r.type.split("/")[1]}`,r).toPromise();if(n.img=l,s&&n.userType==="paciente"){let u=yield this.firestorage.uploadImage("usersProfiles",`${a}_2.${s.type.split("/")[1]}`,s).toPromise();n.img2=u}return yield this.firestore.addDocument("users",n,a),yield o.user?.sendEmailVerification(),!0})}sendRecoveryEmail(n){return Dt(je(),n)}logOut(n=!0){this.auth.signOut().then(()=>{n&&this.router.navigateByUrl("/login")})}getUser(){return this.user$}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ei=(()=>{let e=class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(r){return new(r||e)(d(Ce),d(be))},e.\u0275dir=b({type:e});let t=e;return t})(),at=(()=>{let e=class e extends Ei{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=ne(e)))(s||e)}})(),e.\u0275dir=b({type:e,features:[M]});let t=e;return t})(),ge=new R("");var vs={provide:ge,useExisting:F(()=>Vi),multi:!0};function bs(){let t=vt()?vt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Cs=new R(""),Vi=(()=>{let e=class e extends Ei{constructor(n,r,s){super(n,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!bs())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(r){return new(r||e)(d(Ce),d(be),d(Cs,8))},e.\u0275dir=b({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&K("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[O([vs]),M]});let t=e;return t})();function $(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Mi(t){return t!=null&&typeof t.length=="number"}var Pe=new R(""),lt=new R(""),ws=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,gi=class{static min(e){return As(e)}static max(e){return Ds(e)}static required(e){return Ii(e)}static requiredTrue(e){return Es(e)}static email(e){return Vs(e)}static minLength(e){return Ms(e)}static maxLength(e){return Is(e)}static pattern(e){return Ts(e)}static nullValidator(e){return Qe(e)}static compose(e){return Pi(e)}static composeAsync(e){return Oi(e)}};function As(t){return e=>{if($(e.value)||$(t))return null;let i=parseFloat(e.value);return!isNaN(i)&&i<t?{min:{min:t,actual:e.value}}:null}}function Ds(t){return e=>{if($(e.value)||$(t))return null;let i=parseFloat(e.value);return!isNaN(i)&&i>t?{max:{max:t,actual:e.value}}:null}}function Ii(t){return $(t.value)?{required:!0}:null}function Es(t){return t.value===!0?null:{required:!0}}function Vs(t){return $(t.value)||ws.test(t.value)?null:{email:!0}}function Ms(t){return e=>$(e.value)||!Mi(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Is(t){return e=>Mi(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Ts(t){if(!t)return Qe;let e,i;return typeof t=="string"?(i="",t.charAt(0)!=="^"&&(i+="^"),i+=t,t.charAt(t.length-1)!=="$"&&(i+="$"),e=new RegExp(i)):(i=t.toString(),e=t),n=>{if($(n.value))return null;let r=n.value;return e.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}function Qe(t){return null}function Ti(t){return t!=null}function Ri(t){return hn(t)?z(t):t}function ki(t){let e={};return t.forEach(i=>{e=i!=null?v(v({},e),i):e}),Object.keys(e).length===0?null:e}function Si(t,e){return e.map(i=>i(t))}function Rs(t){return!t.validate}function Fi(t){return t.map(e=>Rs(e)?e:i=>e.validate(i))}function Pi(t){if(!t)return null;let e=t.filter(Ti);return e.length==0?null:function(i){return ki(Si(i,e))}}function Wt(t){return t!=null?Pi(Fi(t)):null}function Oi(t){if(!t)return null;let e=t.filter(Ti);return e.length==0?null:function(i){let n=Si(i,e).map(Ri);return Qt(n).pipe(G(ki))}}function zt(t){return t!=null?Oi(Fi(t)):null}function mi(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function xi(t){return t._rawValidators}function Ni(t){return t._rawAsyncValidators}function jt(t){return t?Array.isArray(t)?t:[t]:[]}function et(t,e){return Array.isArray(t)?t.includes(e):t===e}function _i(t,e){let i=jt(e);return jt(t).forEach(r=>{et(i,r)||i.push(r)}),i}function yi(t,e){return jt(e).filter(i=>!et(t,i))}var tt=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Wt(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,i){return this.control?this.control.hasError(e,i):!1}getError(e,i){return this.control?this.control.getError(e,i):null}},j=class extends tt{get formDirective(){return null}get path(){return null}},J=class extends tt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},nt=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},ks={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},iu=k(v({},ks),{"[class.ng-submitted]":"isSubmitted"}),ru=(()=>{let e=class e extends nt{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(d(J,2))},e.\u0275dir=b({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&mt("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[M]});let t=e;return t})(),su=(()=>{let e=class e extends nt{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(d(j,10))},e.\u0275dir=b({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&mt("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[M]});let t=e;return t})();var Ie="VALID",Je="INVALID",de="PENDING",Te="DISABLED",q=class{},it=class extends q{constructor(e,i){super(),this.value=e,this.source=i}},ke=class extends q{constructor(e,i){super(),this.pristine=e,this.source=i}},Se=class extends q{constructor(e,i){super(),this.touched=e,this.source=i}},he=class extends q{constructor(e,i){super(),this.status=e,this.source=i}},Gt=class extends q{constructor(e){super(),this.source=e}},Ht=class extends q{constructor(e){super(),this.source=e}};function Xt(t){return(ut(t)?t.validators:t)||null}function Ss(t){return Array.isArray(t)?Wt(t):t||null}function Kt(t,e){return(ut(e)?e.asyncValidators:t)||null}function Fs(t){return Array.isArray(t)?zt(t):t||null}function ut(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Ui(t,e,i){let n=t.controls;if(!(e?Object.keys(n):n).length)throw new Ne(1e3,"");if(!n[i])throw new Ne(1001,"")}function Li(t,e,i){t._forEachChild((n,r)=>{if(i[r]===void 0)throw new Ne(1002,"")})}var fe=class{constructor(e,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new Yt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ie}get invalid(){return this.status===Je}get pending(){return this.status==de}get disabled(){return this.status===Te}get enabled(){return this.status!==Te}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_i(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_i(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yi(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yi(e,this._rawAsyncValidators))}hasValidator(e){return et(this._rawValidators,e)}hasAsyncValidator(e){return et(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let i=this.touched===!1;this.touched=!0;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(k(v({},e),{sourceControl:n})),i&&e.emitEvent!==!1&&this._events.next(new Se(!0,n))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(i=>i.markAllAsTouched(e))}markAsUntouched(e={}){let i=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:n})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n),i&&e.emitEvent!==!1&&this._events.next(new Se(!1,n))}markAsDirty(e={}){let i=this.pristine===!0;this.pristine=!1;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(k(v({},e),{sourceControl:n})),i&&e.emitEvent!==!1&&this._events.next(new ke(!1,n))}markAsPristine(e={}){let i=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&e.emitEvent!==!1&&this._events.next(new ke(!0,n))}markAsPending(e={}){this.status=de;let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new he(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(k(v({},e),{sourceControl:i}))}disable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=Te,this.errors=null,this._forEachChild(r=>{r.disable(k(v({},e),{onlySelf:!0}))}),this._updateValue();let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new it(this.value,n)),this._events.next(new he(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(k(v({},e),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=Ie,this._forEachChild(n=>{n.enable(k(v({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(k(v({},e),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e,i){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},i),this._parent._updateTouched({},i))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ie||this.status===de)&&this._runAsyncValidator(n,e.emitEvent)}let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new it(this.value,i)),this._events.next(new he(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(k(v({},e),{sourceControl:i}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Te:Ie}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,i){if(this.asyncValidator){this.status=de,this._hasOwnPendingAsyncValidator={emitEvent:i!==!1};let n=Ri(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:i,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,i={}){this.errors=e,this._updateControlsErrors(i.emitEvent!==!1,this,i.shouldHaveEmitted)}get(e){let i=e;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,r)=>n&&n._find(r),this)}getError(e,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[e]:null}hasError(e,i){return!!this.getError(e,i)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,i,n){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||n)&&this._events.next(new he(this.status,i)),this._parent&&this._parent._updateControlsErrors(e,i,n)}_initObservables(){this.valueChanges=new X,this.statusChanges=new X}_calculateStatus(){return this._allControlsDisabled()?Te:this.errors?Je:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(de)?de:this._anyControlsHaveStatus(Je)?Je:Ie}_anyControlsHaveStatus(e){return this._anyControls(i=>i.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,i){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),r&&this._events.next(new ke(this.pristine,i))}_updateTouched(e={},i){this.touched=this._anyControlsTouched(),this._events.next(new Se(this.touched,i)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ut(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let i=this._parent&&this._parent.dirty;return!e&&!!i&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Ss(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Fs(this._rawAsyncValidators)}},pe=class extends fe{constructor(e,i,n){super(Xt(i),Kt(n,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,i){return this.controls[e]?this.controls[e]:(this.controls[e]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(e,i,n={}){this.registerControl(e,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(e,i,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],i&&this.registerControl(e,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,i={}){Li(this,!0,e),Object.keys(e).forEach(n=>{Ui(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){e!=null&&(Object.keys(e).forEach(n=>{let r=this.controls[n];r&&r.patchValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e={},i={}){this._forEachChild((n,r)=>{n.reset(e?e[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(e,i,n)=>(e[n]=i.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&e(n,i)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(i,n,r)=>((n.enabled||this.disabled)&&(i[r]=n.value),i))}_reduceChildren(e,i){let n=e;return this._forEachChild((r,s)=>{n=i(n,r,s)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var $t=class extends pe{};var Oe=new R("CallSetDisabledState",{providedIn:"root",factory:()=>ct}),ct="always";function Bi(t,e){return[...e.path,t]}function rt(t,e,i=ct){Zt(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||i==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Os(t,e),Ns(t,e),xs(t,e),Ps(t,e)}function vi(t,e,i=!0){let n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),ot(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function st(t,e){t.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(e)})}function Ps(t,e){if(e.valueAccessor.setDisabledState){let i=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(i),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(i)})}}function Zt(t,e){let i=xi(t);e.validator!==null?t.setValidators(mi(i,e.validator)):typeof i=="function"&&t.setValidators([i]);let n=Ni(t);e.asyncValidator!==null?t.setAsyncValidators(mi(n,e.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let r=()=>t.updateValueAndValidity();st(e._rawValidators,r),st(e._rawAsyncValidators,r)}function ot(t,e){let i=!1;if(t!==null){if(e.validator!==null){let r=xi(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(i=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let r=Ni(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(i=!0,t.setAsyncValidators(s))}}}let n=()=>{};return st(e._rawValidators,n),st(e._rawAsyncValidators,n),i}function Os(t,e){e.valueAccessor.registerOnChange(i=>{t._pendingValue=i,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&ji(t,e)})}function xs(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&ji(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function ji(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ns(t,e){let i=(n,r)=>{e.valueAccessor.writeValue(n),r&&e.viewToModelUpdate(n)};t.registerOnChange(i),e._registerOnDestroy(()=>{t._unregisterOnChange(i)})}function Gi(t,e){t==null,Zt(t,e)}function Us(t,e){return ot(t,e)}function Hi(t,e){if(!t.hasOwnProperty("model"))return!1;let i=t.model;return i.isFirstChange()?!0:!Object.is(e,i.currentValue)}function Ls(t){return Object.getPrototypeOf(t.constructor)===at}function $i(t,e){t._syncPendingControls(),e.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function qi(t,e){if(!e)return null;Array.isArray(e);let i,n,r;return e.forEach(s=>{s.constructor===Vi?i=s:Ls(s)?n=s:r=s}),r||n||i||null}function Bs(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}var js={provide:j,useExisting:F(()=>Gs)},Re=Promise.resolve(),Gs=(()=>{let e=class e extends j{constructor(n,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new X,this.form=new pe({},Wt(n),zt(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Re.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),rt(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Re.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Re.then(()=>{let r=this._findContainer(n.path),s=new pe({});Gi(s,n),r.registerControl(n.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Re.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Re.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,$i(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};e.\u0275fac=function(r){return new(r||e)(d(Pe,10),d(lt,10),d(Oe,8))},e.\u0275dir=b({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&K("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[O([js]),M]});let t=e;return t})();function bi(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function Ci(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Fe=class extends fe{constructor(e=null,i,n){super(Xt(i),Kt(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ut(i)&&(i.nonNullable||i.initialValueIsDefault)&&(Ci(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,i={}){this.value=this._pendingValue=e,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(e,i={}){this.setValue(e,i)}reset(e=this.defaultValue,i={}){this._applyFormState(e),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){bi(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){bi(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Ci(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Hs=t=>t instanceof Fe;var $s={provide:J,useExisting:F(()=>qs)},wi=Promise.resolve(),qs=(()=>{let e=class e extends J{constructor(n,r,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Fe,this._registered=!1,this.name="",this.update=new X,this._parent=n,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=qi(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Hi(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){rt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){wi.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,s=r!==0&&yt(r);wi.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Bi(n,this._parent):[n]}};e.\u0275fac=function(r){return new(r||e)(d(j,9),d(Pe,10),d(lt,10),d(ge,10),d(_t,8),d(Oe,8))},e.\u0275dir=b({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[O([$s]),M,ve]});let t=e;return t})(),au=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=b({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),Ws={provide:ge,useExisting:F(()=>zs),multi:!0},zs=(()=>{let e=class e extends at{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=ne(e)))(s||e)}})(),e.\u0275dir=b({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,s){r&1&&K("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[O([Ws]),M]});let t=e;return t})();var Wi=new R("");var Xs={provide:j,useExisting:F(()=>Ks)},Ks=(()=>{let e=class e extends j{constructor(n,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new X,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ot(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return rt(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){vi(n.control||null,n,!1),Bs(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,$i(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Gt(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1,this.form._events.next(new Ht(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,s=this.form.get(n.path);r!==s&&(vi(r||null,n),Hs(s)&&(rt(s,n,this.callSetDisabledState),n.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);Gi(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&Us(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zt(this.form,this),this._oldForm&&ot(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(d(Pe,10),d(lt,10),d(Oe,8))},e.\u0275dir=b({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&K("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[O([Xs]),M,ve]});let t=e;return t})();var Zs={provide:J,useExisting:F(()=>Ys)},Ys=(()=>{let e=class e extends J{set isDisabled(n){}constructor(n,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new X,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=qi(this,o)}ngOnChanges(n){this._added||this._setUpControl(),Hi(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Bi(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(d(j,13),d(Pe,10),d(lt,10),d(ge,10),d(Wi,8))},e.\u0275dir=b({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[O([Zs]),M,ve]});let t=e;return t})(),Js={provide:ge,useExisting:F(()=>Xi),multi:!0};function zi(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Qs(t){return t.split(":")[0]}var Xi=(()=>{let e=class e extends at{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),s=zi(r,n);this.setProperty("value",s)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=Qs(n);return this._optionMap.has(r)?this._optionMap.get(r):n}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=ne(e)))(s||e)}})(),e.\u0275dir=b({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,s){r&1&&K("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[O([Js]),M]});let t=e;return t})(),lu=(()=>{let e=class e{constructor(n,r,s){this._element=n,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(zi(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(d(be),d(Ce),d(Xi,9))},e.\u0275dir=b({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),eo={provide:ge,useExisting:F(()=>Ki),multi:!0};function Ai(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function to(t){return t.split(":")[0]}var Ki=(()=>{let e=class e extends at{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let s=n.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else r=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let s=[],o=r.selectedOptions;if(o!==void 0){let a=o;for(let l=0;l<a.length;l++){let u=a[l],c=this._getOptionValue(u.value);s.push(c)}}else{let a=r.options;for(let l=0;l<a.length;l++){let u=a[l];if(u.selected){let c=this._getOptionValue(u.value);s.push(c)}}}this.value=s,n(s)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=to(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=ne(e)))(s||e)}})(),e.\u0275dir=b({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,s){r&1&&K("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[O([eo]),M]});let t=e;return t})(),uu=(()=>{let e=class e{constructor(n,r,s){this._element=n,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(Ai(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Ai(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(d(be),d(Ce),d(Ki,9))},e.\u0275dir=b({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var no=(()=>{let e=class e{constructor(){this._validator=Qe}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Qe,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=b({type:e,features:[ve]});let t=e;return t})();var io={provide:Pe,useExisting:F(()=>ro),multi:!0};var ro=(()=>{let e=class e extends no{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=yt,this.createValidator=n=>Ii}enabled(n){return n}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=ne(e)))(s||e)}})(),e.\u0275dir=b({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,s){r&2&&un("required",s._enabled?"":null)},inputs:{required:"required"},features:[O([io]),M]});let t=e;return t})();var Zi=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=_e({});let t=e;return t})(),qt=class extends fe{constructor(e,i,n){super(Xt(i),Kt(n,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,i={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(e,i,n={}){this.controls.splice(e,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,i={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(e,i,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,i={}){Li(this,!1,e),e.forEach((n,r)=>{Ui(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){e!=null&&(e.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e=[],i={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((i,n)=>n._syncPendingControls()?!0:i,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((i,n)=>{e(i,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(i=>i.enabled&&e(i))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Di(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var cu=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let s=this._reduceControls(n),o={};return Di(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new pe(s,o)}record(n,r=null){let s=this._reduceControls(n);return new $t(s,r)}control(n,r,s){let o={};return this.useNonNullable?(Di(r)?o=r:(o.validators=r,o.asyncValidators=s),new Fe(n,k(v({},o),{nonNullable:!0}))):new Fe(n,r,s)}array(n,r,s){let o=n.map(a=>this._createControl(a));return new qt(o,r,s)}_reduceControls(n){let r={};return Object.keys(n).forEach(s=>{r[s]=this._createControl(n[s])}),r}_createControl(n){if(n instanceof Fe)return n;if(n instanceof fe)return n;if(Array.isArray(n)){let r=n[0],s=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,s,o)}else return this.control(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var du=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:Oe,useValue:n.callSetDisabledState??ct}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=_e({imports:[Zi]});let t=e;return t})(),hu=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:Wi,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Oe,useValue:n.callSetDisabledState??ct}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=_e({imports:[Zi]});let t=e;return t})();function so(t,e){t&1&&Le(0,"div",2)}function oo(t,e){t&1&&(Ue(0,"div",3),rn(),Ue(1,"svg",4),Le(2,"circle",5),Ue(3,"defs")(4,"linearGradient",6),Le(5,"stop",7)(6,"stop",8),cn()()()())}var _u=(()=>{let e=class e{constructor(){this.isLoading=!1}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=nn({type:e,selectors:[["app-loading"]],inputs:{isLoading:"isLoading"},standalone:!0,features:[dn],decls:2,vars:2,consts:[["class","bg",4,"ngIf"],["class","spinner-container",4,"ngIf"],[1,"bg"],[1,"spinner-container"],["viewBox","0 0 50 50",1,"spinner"],["cx","25","cy","25","r","20","fill","none","stroke","url(#spinnerGradient)","stroke-width","5",1,"path"],["id","spinnerGradient","x1","0%","y1","0%","x2","100%","y2","0%"],["offset","0%",2,"stop-color","#24cee7","stop-opacity","1"],["offset","100%",2,"stop-color","#1be3c4","stop-opacity","1"]],template:function(r,s){r&1&&ln(0,so,1,0,"div",0)(1,oo,7,0,"div",1),r&2&&(gt("ngIf",s.isLoading),on(),gt("ngIf",s.isLoading))},dependencies:[pn,fn],styles:[".spinner-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;align-items:center;justify-content:center;width:100px;height:100px;z-index:1000;background-color:#fff;padding:20px;border-radius:25px;box-shadow:0 0 9px #0000004d}.spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 2s linear infinite;width:100%;height:100%}.path[_ngcontent-%COMP%]{stroke-linecap:round;animation:_ngcontent-%COMP%_dash 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}.bg[_ngcontent-%COMP%]{height:100vh;width:100%;background-color:transparent;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:800}"]});let t=e;return t})();export{In as a,Nl as b,Vi as c,gi as d,ru as e,su as f,Gs as g,qs as h,au as i,zs as j,Ks as k,Ys as l,Xi as m,lu as n,uu as o,ro as p,cu as q,du as r,hu as s,_u as t};
