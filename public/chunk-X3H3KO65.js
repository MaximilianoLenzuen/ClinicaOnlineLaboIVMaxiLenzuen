import{a as D,b as W,c as A,e as q,f as G,g as Y,h as H,i as J,p as K,r as Q,t as X}from"./chunk-UM4ED3QU.js";import{$ as v,A as _,B as b,Da as R,Fa as U,G as L,J as M,Ja as j,L as a,M as V,Oa as N,R as h,T as p,X as P,Y as t,Z as o,_ as s,aa as u,ba as f,ha as T,ia as C,ka as w,na as y,oa as k,pa as S,ra as F,s as O,t as B,ta as E,ua as z,z as d}from"./chunk-YLQAAF3C.js";import{g as I}from"./chunk-AFEX6KIG.js";var Z=e=>({"input-error":e}),$=(e,i)=>({show:e,hide:i});function ee(e,i){if(e&1&&(t(0,"div",28),C(1),o()),e&2){let r=f();a(),w(" ",r.errMsg," ")}}function ne(e,i){if(e&1&&(t(0,"div",29),C(1),o()),e&2){let r=f();a(),w(" ",r.errMsgEmail," ")}}function te(e,i){if(e&1&&(t(0,"div",29),C(1),o()),e&2){let r=f();a(),w(" ",r.errMsgPass," ")}}function ie(e,i){if(e&1){let r=v();b(),t(0,"svg",30),u("click",function(){d(r);let l=f();return _(l.togglePasswordVisibility())}),s(1,"path",31)(2,"path",32),o()}}function oe(e,i){if(e&1){let r=v();b(),t(0,"svg",33),u("click",function(){d(r);let l=f();return _(l.togglePasswordVisibility())}),s(1,"path",34)(2,"path",35),o()}}function re(e,i){if(e&1&&s(0,"img",22),e&2){let r=f();p("src",r.userImg[0].img,M)}}function ae(e,i){e&1&&s(0,"i",23)}function se(e,i){if(e&1&&s(0,"img",22),e&2){let r=f();p("src",r.userImg[4].img,M)}}function ce(e,i){e&1&&s(0,"i",23)}function le(e,i){if(e&1&&s(0,"img",22),e&2){let r=f();p("src",r.userImg[2].img,M)}}function ge(e,i){e&1&&s(0,"i",23)}function pe(e,i){if(e&1&&s(0,"img",22),e&2){let r=f();p("src",r.userImg[3].img,M)}}function me(e,i){e&1&&s(0,"i",24)}function de(e,i){if(e&1&&s(0,"img",22),e&2){let r=f();p("src",r.userImg[5].img,M)}}function _e(e,i){e&1&&s(0,"i",24)}function ue(e,i){if(e&1&&s(0,"img",22),e&2){let r=f();p("src",r.userImg[1].img,M)}}function fe(e,i){e&1&&s(0,"i",25)}var Be=(()=>{let i=class i{toggleAccesoRapido(){this.accesoRapido=!this.accesoRapido}togglePasswordVisibility(){this.showPassword=!this.showPassword}constructor(c){this.router=c,this.showPassword=!1,this.errorStates={email:!1,pass:!1},this.redirect=!0,this.register=new L,this.userImg=[],this.isLoading=!1,this.authService=O(W),this.firestoreService=O(D),this.firestoreService.getDocuments("users").subscribe(l=>{l.forEach(n=>{switch(n.email){case"adneslo@mailnesia.com":case"maximiliano.lenzuen@valtech.com":case"usrurmac@mailnesia.com":case"ondesrilp@mailnesia.com":case"maximilianolenzuen@gmail.com":this.userImg.push({email:n.email,img:n.img});break}})})}ngOnInit(){this.authService.logOut(this.redirect)}navigateToRegister(){this.router.navigate(["/registro"])}onSubmit(c){return I(this,null,function*(){if(this.errorStates={email:!1,pass:!1},this.errMsgEmail="",this.errMsg="",this.errMsgPass="",c){this.isLoading=!0;let l=yield this.verificarEspecialista(c);this.authService.signIn(c).then(n=>{if(!l){this.isLoading=!1,this.errMsgEmail="El correo necesita ser habilitado por un administrador.",this.errorStates.email=!0;return}this.isLoading=!1,this.logUserLogin(c.email),this.router.navigateByUrl("/home")}).catch(n=>{switch(console.log(n),this.isLoading=!1,n.code){case"auth/invalid-email":this.errMsgEmail="Ingrese un correo electronico valido.",this.errorStates.email=!0;break;case"auth/invalid-credential":this.errMsg="Correo y/o contrase\xF1a incorrecta.",this.errorStates.email=!0,this.errorStates.pass=!0;break;case"auth/missing-email":this.errMsgEmail="Ingrese el correo electronico.",this.errorStates.email=!0,this.errMsgPass="Ingrese la contrase\xF1a",this.errorStates.pass=!0;break}n.code||(this.errMsgEmail="El correo electronico no esta verificado.",this.errorStates.email=!0)})}})}logUserLogin(c){let l={usuario:c,fechaDeIngreso:new Date().toISOString()};this.firestoreService.addDocument("logs",l)}autoFill(c){if(this.accesoRapido)switch(c){case"user1":this.ngEmail="adneslo@mailnesia.com",this.ngPass="123456";break;case"user2":this.ngEmail="maximiliano.lenzuen@valtech.com",this.ngPass="123456";break;case"user3":this.ngEmail="ivmapsis@mailnesia.com",this.ngPass="123456";break;case"user4":this.ngEmail="oltasradt@mailnesia.com",this.ngPass="123456";break;case"user5":this.ngEmail="ondesrilp@mailnesia.com",this.ngPass="123456";break;case"user6":this.ngEmail="maximilianolenzuen@gmail.com",this.ngPass="123456";break}}verificarEspecialista(c){return new Promise((l,n)=>{this.firestoreService.getDocumentsWhere("users","email",c.email).subscribe(g=>{var m=!0;g[0].userType==="especialista"&&(m=g[0].verificadoAdmin),l(m)},g=>{n(g)})})}esperarYRedirigir(c,l,n,g=50){let m=setInterval(()=>{sessionStorage.setItem(c,l),sessionStorage.getItem(c)==l&&(clearInterval(m),this.router.navigateByUrl(n))},g)}};i.\u0275fac=function(l){return new(l||i)(V(N))},i.\u0275cmp=B({type:i,selectors:[["app-login"]],inputs:{redirect:"redirect"},outputs:{register:"register"},standalone:!0,features:[F],decls:59,vars:25,consts:[["f","ngForm"],[1,"box-principal"],[1,"container-fluid"],["src","favicon.png","alt","+",1,"logo-img"],[1,"form-container","container-fluid",2,"padding-top","0","padding-bottom","0"],[3,"isLoading"],[1,"login-container"],[3,"ngSubmit"],["class","err-msg-top",4,"ngIf"],[1,"inputBox"],["class","err-msg",4,"ngIf"],["type","text","name","email","required","",3,"ngModelChange","ngModel"],[1,"backInput",3,"ngClass"],["name","password","required","",3,"ngModelChange","type","ngModel"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","class","bi bi-eye-slash-fill","viewBox","0 0 16 16",3,"click",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","class","bi bi-eye-fill","viewBox","0 0 16 16",3,"click",4,"ngIf"],[1,"links"],["type","submit","value","Iniciar sesi\xF3n"],[3,"click"],[1,"favButtonContainer"],[1,"container",3,"ngClass"],[1,"favButton","grey",3,"click"],["alt","",3,"src"],[1,"bx","bxs-user-badge"],[1,"bx","bxs-injection"],[1,"bx","bxs-shield-minus"],[1,"favButtonInicial",2,"z-index","10000",3,"click"],[1,"bx","bxs-user-plus"],[1,"err-msg-top"],[1,"err-msg"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-eye-slash-fill",3,"click"],["d","m10.79 12.912-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7 7 0 0 0 2.79-.588M5.21 3.088A7 7 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474z"],["d","M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829zm4.95.708-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6-12-12 .708-.708 12 12z"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-eye-fill",3,"click"],["d","M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"],["d","M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"]],template:function(l,n){if(l&1){let g=v();t(0,"div",1)(1,"div",2),s(2,"img",3),t(3,"h5"),C(4,"Clinica OnLine"),o(),t(5,"h1"),C(6,"Bienvenido!"),o()(),t(7,"div",4),s(8,"app-loading",5),t(9,"div",6)(10,"form",7,0),u("ngSubmit",function(){d(g);let x=T(11);return _(n.onSubmit(x.value))}),t(12,"h2"),C(13,"Iniciar sesi\xF3n"),o(),h(14,ee,2,1,"div",8),t(15,"div",9),h(16,ne,2,1,"div",10),t(17,"input",11),S("ngModelChange",function(x){return d(g),k(n.ngEmail,x)||(n.ngEmail=x),_(x)}),o(),t(18,"span"),C(19,"Correo Electronico"),o(),s(20,"i",12),o(),t(21,"div",9),h(22,te,2,1,"div",10),t(23,"input",13),S("ngModelChange",function(x){return d(g),k(n.ngPass,x)||(n.ngPass=x),_(x)}),o(),t(24,"span"),C(25,"Contrase\xF1a"),o(),h(26,ie,3,0,"svg",14)(27,oe,3,0,"svg",15),s(28,"i",12),o(),t(29,"div",16)(30,"a"),C(31,"-----------------------"),o()(),s(32,"input",17),t(33,"p"),C(34,"No tienes una cuenta? "),t(35,"span",18),u("click",function(){return d(g),_(n.navigateToRegister())}),C(36,"Registrate"),o()(),t(37,"div",19)(38,"div",20)(39,"div",21),u("click",function(){return d(g),_(n.autoFill("user1"))}),h(40,re,1,1,"img",22)(41,ae,1,0,"i",23),o(),t(42,"div",21),u("click",function(){return d(g),_(n.autoFill("user2"))}),h(43,se,1,1,"img",22)(44,ce,1,0,"i",23),o(),t(45,"div",21),u("click",function(){return d(g),_(n.autoFill("user3"))}),h(46,le,1,1,"img",22)(47,ge,1,0,"i",23),o(),t(48,"div",21),u("click",function(){return d(g),_(n.autoFill("user4"))}),h(49,pe,1,1,"img",22)(50,me,1,0,"i",24),o(),t(51,"div",21),u("click",function(){return d(g),_(n.autoFill("user5"))}),h(52,de,1,1,"img",22)(53,_e,1,0,"i",24),o(),t(54,"div",21),u("click",function(){return d(g),_(n.autoFill("user6"))}),h(55,ue,1,1,"img",22)(56,fe,1,0,"i",25),o()(),t(57,"div",26),u("click",function(){return d(g),_(n.toggleAccesoRapido())}),s(58,"i",27),o()()()()()()}l&2&&(a(8),p("isLoading",n.isLoading),a(6),p("ngIf",n.errMsg),a(2),p("ngIf",n.errMsgEmail),a(),y("ngModel",n.ngEmail),a(3),p("ngClass",E(18,Z,n.errorStates.email)),a(2),p("ngIf",n.errMsgPass),a(),p("type",n.showPassword?"text":"password"),y("ngModel",n.ngPass),a(3),p("ngIf",!n.showPassword),a(),p("ngIf",n.showPassword),a(),p("ngClass",E(20,Z,n.errorStates.pass)),a(10),p("ngClass",z(22,$,n.accesoRapido,!n.accesoRapido)),a(2),P(n.userImg[0]?40:41),a(3),P(n.userImg[4]?43:44),a(3),P(n.userImg[2]?46:47),a(3),P(n.userImg[3]?49:50),a(3),P(n.userImg[5]?52:53),a(3),P(n.userImg[1]?55:56))},dependencies:[j,R,U,Q,J,A,q,G,K,H,Y,X],styles:[".login-container[_ngcontent-%COMP%]{position:relative;width:100%;max-height:auto;border-radius:15px;overflow:hidden;transition:height .3s ease}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:50px 40px 20px;border-radius:15px;z-index:2;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;width:100%;background-size:cover}.logo-img[_ngcontent-%COMP%]{width:70px}.box-principal[_ngcontent-%COMP%]{position:relative;width:95%;height:fit-content;border-radius:40px;overflow:hidden;background-color:#fff;box-shadow:0 0 20px #0f0f0f1a;transition:height .3s ease;color:#3c3e46;padding:20px}.container-fluid[_ngcontent-%COMP%]{text-align:center;color:#272e41;padding:30px 0}.container-fluid[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-top:10px;font-weight:700}.container-fluid[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:30px;font-size:4em}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:500;text-align:center;letter-spacing:.1em}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]{position:relative;width:100%;margin-top:35px}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:relative;width:100%;padding:20px 10px 10px;background:transparent;outline:none;border:none;box-shadow:none;color:#fff;font-size:1em;letter-spacing:.05em;transition:.5s;z-index:3}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;left:0;padding:20px 10px 10px;pointer-events:none;color:#838383;font-size:1em;letter-spacing:.05em;transition:.5s}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ span[_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ span[_ngcontent-%COMP%]{font-size:.75em;transform:translateY(-34px)}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%;height:2px;border-radius:15px;overflow:hidden;transition:.5s;pointer-events:none;background:linear-gradient(to right,#1ce4c7,#24d0e8);box-shadow:0 4px 8px #1ce4c780,0 6px 20px #24d0e880}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ i[_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ i[_ngcontent-%COMP%]{height:44px}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{margin-top:8px;display:flex;justify-content:center}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:10px 0;font-size:.75em;color:#000;text-decoration:none;cursor:pointer}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-child(2){color:#000}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{border:none;outline:none;padding:9px 25px;background:linear-gradient(to right,#1ce4c7,#24d0e8);cursor:pointer;font-size:.9em;border-radius:15px;font-weight:600;width:100%;margin-top:10px;color:#fff;box-shadow:0 4px 8px #1ce4c780,0 6px 20px #24d0e880}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:active{opacity:.8}.login-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;text-align:center;padding-top:10px}.login-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;cursor:pointer;background:linear-gradient(to right,#1ce4c7,#24d0e8);-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:0 4px 8px 0 rgba(28,228,199,.5),0 6px 20px 0 rgba(36,208,232,.5)}.login-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover, .login-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){opacity:.7}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;right:10px;bottom:12px;z-index:4;cursor:pointer;color:#3c3e46;transition:.5s}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ svg[_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ svg[_ngcontent-%COMP%]{color:#fff}.err-msg[_ngcontent-%COMP%]{font-size:small;position:absolute;bottom:-20px;color:red;font-weight:500}.input-error[_ngcontent-%COMP%]{background:linear-gradient(to right,#e41c1c,#a51b1b)!important;box-shadow:0 4px 8px #e41c1c80,0 6px 20px #e8242480!important}.err-msg-top[_ngcontent-%COMP%]{padding:10px;text-align:center;color:red;font-weight:500}.arrowVolver[_ngcontent-%COMP%]{position:absolute;color:#000;top:26px;left:22px;border:none;outline:none;cursor:pointer;transition:box-shadow .3s ease-in-out,color .3s ease,text-shadow .3s ease-in-out}.arrowVolver[_ngcontent-%COMP%]:hover{text-shadow:0 0 5px #05B79F,0 0 10px #05B79F,0 0 15px #05B79F;filter:drop-shadow(0 0 3px #05B79F) drop-shadow(0 0 26px #05B79F) drop-shadow(0 0 29px #05B79F)}.arrowDown[_ngcontent-%COMP%]{position:absolute;color:#3c3e46;bottom:10px;left:48%;border:none;outline:none;cursor:pointer;transition:box-shadow .3s ease-in-out,color .3s ease,text-shadow .3s ease-in-out}.arrowDown[_ngcontent-%COMP%]:hover{text-shadow:0 0 5px #05B79F,0 0 10px #05B79F,0 0 15px #05B79F;filter:drop-shadow(0 0 3px #05B79F) drop-shadow(0 0 26px #05B79F) drop-shadow(0 0 29px #05B79F)}.container[_ngcontent-%COMP%]{margin:0;display:flex;justify-content:end;opacity:0;transition:opacity .5s ease,transform .5s ease}.container.show[_ngcontent-%COMP%]{opacity:1;animation:_ngcontent-%COMP%_slideInFromRight .5s forwards}.container.hide[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_slideOutToRight .5s forwards}@keyframes _ngcontent-%COMP%_slideInFromRight{0%{transform:translate(10%)}to{transform:translate(0);display:flex}}@keyframes _ngcontent-%COMP%_slideOutToRight{0%{transform:translate(0)}to{transform:translate(10%);display:none}}.favButtonContainer[_ngcontent-%COMP%]{margin-top:10px;position:relative;display:flex;width:100%;justify-content:flex-end;align-items:center;justify-content:end}.favButtonInicial[_ngcontent-%COMP%]{background:linear-gradient(to right,#1ce4c7,#24d0e8);padding:15px;border-radius:50%;margin-right:10px;box-shadow:0 4px 8px #1ce4c780,0 6px 20px #24d0e880;transition:transform .3s,box-shadow .3s;cursor:pointer}.favButtonInicial[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 6px 10px #1ce4c780,0 7px 20px #24d0e880}.favButtonInicial[_ngcontent-%COMP%]:active{animation:_ngcontent-%COMP%_clickEffect .4s}.favButtonInicial[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;display:inline-block}.favButton[_ngcontent-%COMP%]{background:linear-gradient(to right,#1ce4c7,#24d0e8);padding:15px;margin-right:10px;box-shadow:0 4px 8px #1ce4c780,0 6px 20px #24d0e880;transition:transform .3s,box-shadow .3s;cursor:pointer}.favButton[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 6px 10px #1ce4c780,0 7px 20px #24d0e880}.favButton[_ngcontent-%COMP%]:active{animation:_ngcontent-%COMP%_clickEffect .4s}.favButton[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;display:inline-block}@keyframes _ngcontent-%COMP%_clickEffect{0%{transform:scale(1)}50%{transform:scale(.9)}to{transform:scale(1)}}.grey[_ngcontent-%COMP%]{background:#f2f2f2;box-shadow:0 4px 8px #4141411a,0 6px 20px #4141411a}.grey[_ngcontent-%COMP%]:hover{box-shadow:0 6px 10px #4141411a,0 7px 20px #4141411a}.grey[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;border-radius:10px}"]});let e=i;return e})();export{Be as a};
